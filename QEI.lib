http://os.mbed.com/users/toucyy/code/QEI/#ba892225df71ee784e493acba351db15ab43ecf4